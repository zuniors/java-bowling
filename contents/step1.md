# 1단계 - 질문 삭제하기 기능 리팩토링
## 주어진 기능 요구사항
- 질문 작성 기능 
    - 질문 데이터를 완전히 삭제하는 것이 아니라 데이터의 상태를 삭제 상태(deleted - boolean type)로 변경한다.
    - 로그인 사용자와 질문한 사람이 같은 경우 삭제 가능하다.
    - 답변이 없는 경우 삭제가 가능하다.
    - 질문자와 답변글의 모든 답변자가 같은 경우 삭제가 가능하다.
    - 질문자와 답변자가 다른 경우 답변을 삭제할 수 없다.
- 질문 답변 기능 
    - 질문을 삭제할 때 답변 또한 삭제해야 하며, 답변의 삭제 또한 삭제 상태(deleted)를 변경한다.
- 질문과 답변 삭제 이력에 대한 정보를 DeleteHistory를 활용해 남긴다.

## 프로그래밍 요구사항
- qna.service.QnaService의 deleteQuestion()는 앞의 질문 삭제 기능을 구현한 코드이다. 
- 이 메소드는 단위 테스트하기 어려운 코드와 단위 테스트 가능한 코드가 섞여 있다.
- 단위 테스트하기 어려운 코드와 단위 테스트 가능한 코드를 분리해 단위 테스트 가능한 코드에 대해 단위 테스트를 구현한다.

## 기능 요구사항 목록 
#### User
- [x] userId 가 같으면 동일한 사용자

#### Question
- [x] 질문 데이터를 완전히 삭제하는 것이 아니라 데이터의 상태를 삭제 상태(deleted - boolean type)로 변경한다.
- [x] 로그인한 유저가 작성자가 아닌 경우 예외 발생
    - 로그인 사용자와 질문한 사람이 같은 경우 삭제 가능하다.
- 질문 삭제 
    - [x] 답변이 없는 경우 삭제가 가능하다.
    - [x] 답변이 있는 경우 질문자와 답변글의 모든 답변자가 같으면 삭제가 가능하다.
    - [x] 질문자와 답변자가 다른 경우 답변을 삭제할 수 없다.

#### Answer
- [x] 답변자가 자신이면 true를 반환한다. 
- [x] 답변 삭제 시 삭제 상태(deleted)를 변경하고 DeleteHistory 를 반환한다.

#### Answers
: Answer 일급컬렉션 
- [x] 답변 리스트를 반환할 수 있다.
- [x] 질문자와 답변글의 모든 답변자가 같은 경우 삭제가 가능하다.
- [x] 질문자와 답변글의 모든 답변자가 같지 않은 경우 예외가 발생한다. 
